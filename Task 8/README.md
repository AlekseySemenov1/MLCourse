# Деревья принятия решений
В этом упражнении вам предлагается построить классификатор на наборе данных, полученных Национальным институтом диабета, болезней органов пищеварения и почек (National Institute of Diabetes and Digestive and Kidney Diseases). Цель состоит в том, чтобы ответить на вопрос: есть ли у пациента диабет, основываясь на определенных диагностических измерениях, включенных в набор данных, который получен из исходной базы данных наложением нескольких ограничений. В частности, в рассматриваемых в задании данных, все пациенты — женщины не менее 21 года индийского происхождения Пима.

[Набор данных](/Data/Dec_tree.csv) состоит из таких предикторов, как количество беременностей у пациентки, индекс массы тела, уровень инсулина, возраст и так далее. Отклик принимает два значение — больна (1) диабетом или нет (0).

В задачах используйте реализацию ДПР из библиотеки sklearn:

from sklearn.tree import DecisionTreeClassifier
При обучении используйте параметры, указанные в вашем варианте, например:

DecisionTreeClassifier(criterion='entropy', min_samples_leaf=20, max_leaf_nodes=30, random_state=2020)
Для визуализации дерева принятия решений можете воспользоваться библиотекой graphviz и кодом (где x — тренировочный набор данных, clf — обученное ДПР):
```python3
from sklearn.tree import export_graphviz
import graphviz
columns = list(x.columns)
export_graphviz(clf, out_file='tree.dot', 
                feature_names=columns,
                class_names=['0', '1'],
                rounded = True, proportion = False, 
                precision = 2, filled = True, label='all')

with open('tree.dot') as f:
    dot_graph = f.read()

graphviz.Source(dot_graph)
```
## Часть 1
Скачайте [исходный набор данных](/Data/Dec_tree.csv) и отделите от него первые 670 строк.  
1) Введите число строк в получившейся выборке относящихся к классу 0 (пациент не болен диабетом). 
 
Разделите полученную выборку на тренировочную и тестовую части, в отношении 80/20 (первые 80% строк — тренировочный набор данных, остальные 20% — тестовый). Предикторами служат столбцы Pregnancies, Glucose, BloodPressure, SkinThickness, Insulin, BMI, DiabetesPedigreeFunction, Age. Отклик — Outcome.

Обучите классификатор используя DecisionTreeClassifier с параметрами criterion='entropy', max_leaf_nodes = 10, min_samples_leaf = 10 и random_state = 2020.

2) Введите глубину дерева.
3) По какому предиктору выполнено разделение на последнем уровне дерева принятия решений (если таких узлов несколько, введите название любого из них).
4) Введите значение разделения для указанного предиктора с точностью до сотых.

Оцените модель с помощью тестовых данных.  

5) Введите долю правильных ответов.  
6) Введите среднее значение метрик F1 (Macro-F1).

Выполните предсказание для пациентов 712, 749, 703, 740 (указаны номера строк, нумерация с нуля) из начального набора данных.  

7) Введите предсказание для пациента с 712.  
8) Введите предсказание для пациента с 749.  
9) Введите предсказание для пациента с 703.  
10) Введите предсказание для пациента с 740.  
